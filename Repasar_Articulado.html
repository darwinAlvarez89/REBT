<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <title>Articulado REBT (Artículos 1–29) – Reglamento Electrotécnico de Baja Tensión Online</title>
    <meta name="description" content="Consulta el articulado del REBT (Artículos 1 a 29). Guía profesional con audio y modo lectura ajustable." />
    
    <!-- Analytics (igual que tu plantilla) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-RSH4ZW3VT2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);} 
        gtag('js', new Date());
        gtag('config', 'G-RSH4ZW3VT2');
    </script>

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script>
        tailwind.config = { darkMode: 'class' }
    </script>

    <style>
        body { font-family: 'Inter', sans-serif; margin: 0; transition: background-color 0.3s ease; overflow-x: hidden; }
        .bg-master {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -2;
            background-image: url('img/fondo.png'); background-size: cover; background-position: center; background-attachment: fixed;
        }
        .bg-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; transition: background-color 0.5s ease;
        }
        .light .bg-overlay { background-color: rgba(241, 245, 249, 0.85); }
        .dark .bg-overlay { background-color: rgba(2, 6, 23, 0.85); }

        .category-card {
            border-radius: 1.5rem; margin-bottom: 2rem; overflow: hidden; transition: all 0.3s ease; backdrop-filter: blur(12px); border: 1px solid;
        }
        .light .category-card { background: rgba(255, 255, 255, 0.7); border-color: rgba(255, 255, 255, 0.5); box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        .dark .category-card { background: rgba(15, 23, 42, 0.6); border-color: rgba(255, 255, 255, 0.1); }

        .itc-row { transition: all 0.2s ease; border-bottom: 1px solid rgba(128, 128, 128, 0.1); }
        .itc-row:hover, .reading-active { background-color: rgba(59, 130, 246, 0.25); border-left: 4px solid #3b82f6; }
        
        .itc-number { color: #3b82f6; font-weight: 800; min-width: 95px; }
        
        input[type=range] { cursor: pointer; min-width: 60px; }

        .btn-atras {
            position: fixed; bottom: 24px; right: 24px; z-index: 100;
            backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.3);
            border-radius: 50px; padding: 8px 15px; display: flex; align-items: center;
            gap: 6px; box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15); transition: all 0.3s ease;
        }
        .light .btn-atras { background: rgba(255, 255, 255, 0.9); color: #1e293b; }
        .dark .btn-atras { background: rgba(15, 23, 42, 0.9); color: #ffffff; border-color: rgba(255,255,255,0.1); }
    </style>
</head>

<body class="min-h-screen pb-20 light text-slate-900 dark:text-white">
    <div class="bg-master"></div>
    <div class="bg-overlay"></div>

    <main class="max-w-5xl mx-auto px-4 md:px-6 relative z-10">
        
        <header class="pt-8 md:pt-12 pb-10">
            <div class="flex flex-col gap-5">
                <div>
                    <h1 class="text-2xl md:text-4xl font-black tracking-tight">
                        Articulado – <span class="text-blue-600">REBT</span>
                    </h1>
                    <p class="text-slate-600 dark:text-slate-400 mt-1 font-medium italic text-xs md:text-sm">
                        Control de audio y estudio ajustable.
                    </p>
                </div>

                <div class="flex flex-row items-center justify-between gap-2 md:gap-4 bg-white/50 dark:bg-slate-900/50 p-2 md:p-3 rounded-2xl border border-white/20 backdrop-blur shadow-sm w-full md:w-fit">
                    
                    <button onclick="toggleAudio()" id="audioBtn" class="flex-shrink-0 flex items-center justify-center gap-2 px-3 md:px-4 py-2 rounded-xl bg-blue-600 text-white border border-blue-500 shadow-md transition-all hover:scale-105 active:scale-95">
                        <svg id="play-icon" class="w-4 h-4 md:w-5 md:h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"/>
                        </svg>
                        <span class="hidden xs:block text-[10px] md:text-[11px] font-bold uppercase tracking-wider" id="audioText">Escuchar</span>
                    </button>

                    <div class="flex-1 flex items-center gap-2 md:gap-3 px-2 md:px-3 py-1 bg-slate-200/50 dark:bg-slate-800/50 rounded-lg min-w-0">
                        <span class="hidden sm:inline text-[9px] md:text-[10px] font-bold text-slate-500 dark:text-slate-400 uppercase">Voz</span>
                        <input type="range" id="speedRange" min="0.8" max="2.0" step="0.1" value="1.2" class="w-full md:w-28 accent-blue-600">
                        <span id="speedValue" class="text-[10px] md:text-[11px] font-black text-blue-600 w-7 text-center">1.2x</span>
                    </div>

                    <button onclick="toggleDarkMode()" class="flex-shrink-0 p-2 md:p-2.5 rounded-xl bg-white/80 dark:bg-slate-800/80 text-slate-700 dark:text-yellow-400 border border-slate-300 dark:border-slate-700 shadow-sm transition-transform active:scale-90">
                        <svg id="moon-icon" class="w-4 h-4 md:w-5 md:h-5 block dark:hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
                        </svg>
                        <svg id="sun-icon" class="w-4 h-4 md:w-5 md:h-5 hidden dark:block" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </header>

        <div id="articulos-container">

            <!-- 1) Alcance y definiciones generales -->
            <section class="category-card" data-speech-group="Disposiciones generales del reglamento.">
                <div class="bg-slate-200/30 dark:bg-slate-900/40 px-6 py-4 border-b border-slate-400/10 dark:border-white/10 text-slate-800 dark:text-slate-200">
                    <h2 class="font-bold uppercase text-xs tracking-widest text-balance">Disposiciones generales</h2>
                </div>
                <div class="divide-y divide-slate-400/10 dark:divide-white/5">
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 1. Objeto."><span class="itc-number text-sm">Artículo 1</span><span class="text-sm md:text-base">Objeto</span></div>
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 2. Campo de aplicación."><span class="itc-number text-sm">Artículo 2</span><span class="text-sm md:text-base">Campo de aplicación</span></div>
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 3. Instalación eléctrica."><span class="itc-number text-sm">Artículo 3</span><span class="text-sm md:text-base">Instalación eléctrica</span></div>
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 4. Clasificación de las tensiones. Frecuencia de las redes."><span class="itc-number text-sm">Artículo 4</span><span class="text-sm md:text-base">Clasificación de las tensiones. Frecuencia de las redes</span></div>
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 5. Perturbaciones en las redes."><span class="itc-number text-sm">Artículo 5</span><span class="text-sm md:text-base">Perturbaciones en las redes</span></div>
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 6. Equipos y materiales."><span class="itc-number text-sm">Artículo 6</span><span class="text-sm md:text-base">Equipos y materiales</span></div>
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 7. Coincidencia con otras tensiones."><span class="itc-number text-sm">Artículo 7</span><span class="text-sm md:text-base">Coincidencia con otras tensiones</span></div>
                </div>
            </section>

            <!-- 2) Redes, distribución y suministros -->
            <section class="category-card" data-speech-group="Redes de distribución, alumbrado exterior y tipos de suministro.">
                <div class="bg-slate-200/30 dark:bg-slate-900/40 px-6 py-4 border-b border-slate-400/10 dark:border-white/10 text-slate-800 dark:text-slate-200">
                    <h2 class="font-bold uppercase text-xs tracking-widest text-balance">Redes y suministro</h2>
                </div>
                <div class="divide-y divide-slate-400/10 dark:divide-white/5">
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 8. Redes de distribución."><span class="itc-number text-sm">Artículo 8</span><span class="text-sm md:text-base">Redes de distribución</span></div>
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 9. Instalaciones de alumbrado exterior."><span class="itc-number text-sm">Artículo 9</span><span class="text-sm md:text-base">Instalaciones de alumbrado exterior</span></div>
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 10. Tipos de suministro."><span class="itc-number text-sm">Artículo 10</span><span class="text-sm md:text-base">Tipos de suministro</span></div>
                </div>
            </section>

            <!-- 3) Locales especiales y ordenación de cargas -->
            <section class="category-card" data-speech-group="Locales de características especiales y criterios de carga.">
                <div class="bg-slate-200/30 dark:bg-slate-900/40 px-6 py-4 border-b border-slate-400/10 dark:border-white/10 text-slate-800 dark:text-slate-200">
                    <h2 class="font-bold uppercase text-xs tracking-widest text-balance">Locales y cargas</h2>
                </div>
                <div class="divide-y divide-slate-400/10 dark:divide-white/5">
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 11. Locales de características especiales."><span class="itc-number text-sm">Artículo 11</span><span class="text-sm md:text-base">Locales de características especiales</span></div>
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 12. Ordenación de cargas."><span class="itc-number text-sm">Artículo 12</span><span class="text-sm md:text-base">Ordenación de cargas</span></div>
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 13. Reserva de local."><span class="itc-number text-sm">Artículo 13</span><span class="text-sm md:text-base">Reserva de local</span></div>
                </div>
            </section>

            <!-- 4) Enlace, interiores, receptores y puesta a tierra -->
            <section class="category-card" data-speech-group="Acometidas, enlace, instalaciones interiores y puesta a tierra.">
                <div class="bg-slate-200/30 dark:bg-slate-900/40 px-6 py-4 border-b border-slate-400/10 dark:border-white/10 text-slate-800 dark:text-slate-200">
                    <h2 class="font-bold uppercase text-xs tracking-widest text-balance">Enlace e instalaciones</h2>
                </div>
                <div class="divide-y divide-slate-400/10 dark:divide-white/5">
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 14. Especificaciones particulares de las empresas suministradoras."><span class="itc-number text-sm">Artículo 14</span><span class="text-sm md:text-base">Especificaciones particulares de las empresas suministradoras</span></div>
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 15. Acometidas e instalaciones de enlace."><span class="itc-number text-sm">Artículo 15</span><span class="text-sm md:text-base">Acometidas e instalaciones de enlace</span></div>
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 16. Instalaciones interiores o receptoras."><span class="itc-number text-sm">Artículo 16</span><span class="text-sm md:text-base">Instalaciones interiores o receptoras</span></div>
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 17. Receptores y puesta a tierra."><span class="itc-number text-sm">Artículo 17</span><span class="text-sm md:text-base">Receptores y puesta a tierra</span></div>
                </div>
            </section>

            <!-- 5) Ejecución, servicio, mantenimiento e inspecciones -->
            <section class="category-card" data-speech-group="Ejecución, puesta en servicio, mantenimiento e inspecciones.">
                <div class="bg-slate-200/30 dark:bg-slate-900/40 px-6 py-4 border-b border-slate-400/10 dark:border-white/10 text-slate-800 dark:text-slate-200">
                    <h2 class="font-bold uppercase text-xs tracking-widest text-balance">Ejecución y control</h2>
                </div>
                <div class="divide-y divide-slate-400/10 dark:divide-white/5">
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 18. Ejecución y puesta en servicio de las instalaciones."><span class="itc-number text-sm">Artículo 18</span><span class="text-sm md:text-base">Ejecución y puesta en servicio de las instalaciones</span></div>
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 19. Información a los usuarios."><span class="itc-number text-sm">Artículo 19</span><span class="text-sm md:text-base">Información a los usuarios</span></div>
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 20. Mantenimiento de las instalaciones."><span class="itc-number text-sm">Artículo 20</span><span class="text-sm md:text-base">Mantenimiento de las instalaciones</span></div>
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 21. Inspecciones."><span class="itc-number text-sm">Artículo 21</span><span class="text-sm md:text-base">Inspecciones</span></div>
                </div>
            </section>

            <!-- 6) Régimen administrativo, cumplimiento, sanciones y guía técnica -->
            <section class="category-card" data-speech-group="Régimen administrativo, cumplimiento, sanciones y guía técnica.">
                <div class="bg-slate-200/30 dark:bg-slate-900/40 px-6 py-4 border-b border-slate-400/10 dark:border-white/10 text-slate-800 dark:text-slate-200">
                    <h2 class="font-bold uppercase text-xs tracking-widest text-balance">Régimen administrativo</h2>
                </div>
                <div class="divide-y divide-slate-400/10 dark:divide-white/5">
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 22. Empresas Instaladoras."><span class="itc-number text-sm">Artículo 22</span><span class="text-sm md:text-base">Empresas Instaladoras</span></div>
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 23. Cumplimiento de las prescripciones."><span class="itc-number text-sm">Artículo 23</span><span class="text-sm md:text-base">Cumplimiento de las prescripciones</span></div>
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 24. Excepciones."><span class="itc-number text-sm">Artículo 24</span><span class="text-sm md:text-base">Excepciones</span></div>
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 25. Reconocimiento mutuo."><span class="itc-number text-sm">Artículo 25</span><span class="text-sm md:text-base">Reconocimiento mutuo</span></div>
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 26. Normas de referencia."><span class="itc-number text-sm">Artículo 26</span><span class="text-sm md:text-base">Normas de referencia</span></div>
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 27. Accidentes."><span class="itc-number text-sm">Artículo 27</span><span class="text-sm md:text-base">Accidentes</span></div>
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 28. Infracciones y sanciones."><span class="itc-number text-sm">Artículo 28</span><span class="text-sm md:text-base">Infracciones y sanciones</span></div>
                    <div class="itc-row px-4 md:px-6 py-4 flex items-center gap-4" data-speech="Artículo 29. Guía técnica."><span class="itc-number text-sm">Artículo 29</span><span class="text-sm md:text-base">Guía técnica</span></div>
                </div>
            </section>

        </div>
    </main>

    <!-- Cambia este enlace a tu landing real de Articulado -->
    <a href="Landing_Test_REBT_Articulado.html" class="btn-atras group">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
        </svg>
        <span class="text-[10px] font-bold uppercase tracking-widest">Atrás</span>
    </a>

    <script>
        // MODO OSCURO
        function toggleDarkMode() {
            const html = document.documentElement;
            html.classList.toggle('dark');
            localStorage.setItem('theme', html.classList.contains('dark') ? 'dark' : 'light');
        }
        if (localStorage.getItem('theme') === 'dark') document.documentElement.classList.add('dark');

        // AUDIO ENGINE (igual que tu plantilla)
        let synth = window.speechSynthesis;
        let isReading = false;
        let itemsToRead = [];
        let currentIndex = 0;
        let wakeLock = null;

        const speedInput = document.getElementById('speedRange');
        const speedDisplay = document.getElementById('speedValue');
        speedInput.oninput = () => { speedDisplay.innerText = speedInput.value + "x"; };

        async function requestWakeLock() {
            try {
                if ('wakeLock' in navigator) {
                    wakeLock = await navigator.wakeLock.request('screen');
                }
            } catch (err) {
                console.log(err.name);
            }
        }

        function toggleAudio() { if (isReading) { stopReading(); } else { startReading(); } }

        async function startReading() {
            isReading = true; currentIndex = 0; itemsToRead = [];
            await requestWakeLock();

            document.querySelectorAll('section, .itc-row').forEach(el => {
                let text = el.getAttribute('data-speech-group') || el.getAttribute('data-speech');
                if (text) itemsToRead.push({ element: el, text: text });
            });

            document.getElementById('audioBtn').classList.replace('bg-blue-600', 'bg-red-600');
            document.getElementById('audioText').innerText = "Parar";
            readNext();
        }

        function readNext() {
            if (!isReading || currentIndex >= itemsToRead.length) { stopReading(); return; }
            synth.cancel();

            const currentItem = itemsToRead[currentIndex];
            document.querySelectorAll('.reading-active').forEach(el => el.classList.remove('reading-active'));
            currentItem.element.classList.add('reading-active');
            if (!document.hidden) currentItem.element.scrollIntoView({ behavior: 'smooth', block: 'center' });

            let utterance = new SpeechSynthesisUtterance(currentItem.text);
            utterance.lang = 'es-ES';
            utterance.rate = parseFloat(speedInput.value);

            utterance.onend = () => {
                if (isReading) { currentIndex++; setTimeout(() => readNext(), 400 / parseFloat(speedInput.value)); }
            };
            utterance.onerror = () => { if (isReading) { currentIndex++; readNext(); } };

            synth.speak(utterance);
        }

        function stopReading() {
            isReading = false; synth.cancel();
            if (wakeLock) { wakeLock.release(); wakeLock = null; }
            document.querySelectorAll('.reading-active').forEach(el => el.classList.remove('reading-active'));
            document.getElementById('audioBtn').classList.replace('bg-red-600', 'bg-blue-600');
            document.getElementById('audioText').innerText = "Escuchar";
        }

        window.onbeforeunload = () => synth.cancel();
    </script>
</body>
</html>
